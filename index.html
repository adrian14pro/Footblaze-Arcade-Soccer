<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Footblaze Mobile</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #0b6623;
    font-family: Arial, sans-serif;
  }

  #ui {
    position: fixed;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    color: white;
    font-size: 18px;
    background: rgba(0,0,0,0.5);
    padding: 8px 16px;
    border-radius: 10px;
    z-index: 10;
  }

  canvas {
    display: block;
  }
</style>
</head>
<body>

<div id="ui">
  <span id="score">Blue 0 - 0 Red</span> |
  <span id="timer">03:00</span> |
  <span id="half">1st Half</span>
</div>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// PITCH
const pitch = { width: 3000, height: 1800 };

// CAMERA
const camera = { x: 0, y: 0 };

// BALL
const ball = { x: 1500, y: 900, r: 8 };

// PLAYER (controlled)
const player = {
  x: 1500,
  y: 1000,
  r: 16,
  speed: 4
};

// SCORE & TIME
let blueScore = 0;
let redScore = 0;
let half = 1;
let timeLeft = 180; // 3 minutes
let lastTime = Date.now();

// INPUT
const keys = {};
window.addEventListener("keydown", e => keys[e.key] = true);
window.addEventListener("keyup", e => keys[e.key] = false);

// GAME LOOP
function update() {
  // PLAYER MOVEMENT
  if (keys["ArrowUp"]) player.y -= player.speed;
  if (keys["ArrowDown"]) player.y += player.speed;
  if (keys["ArrowLeft"]) player.x -= player.speed;
  if (keys["ArrowRight"]) player.x += player.speed;

  // CAMERA FOLLOWS PLAYER (SMOOTH)
  camera.x += ((player.x - canvas.width/2) - camera.x) * 0.05;
  camera.y += ((player.y - canvas.height/2) - camera.y) * 0.05;

  camera.x = Math.max(0, Math.min(camera.x, pitch.width - canvas.width));
  camera.y = Math.max(0, Math.min(camera.y, pitch.height - canvas.height));

  // TIMER
  const now = Date.now();
  if (now - lastTime >= 1000) {
    timeLeft--;
    lastTime = now;

    if (timeLeft <= 0) {
      if (half === 1) {
        half = 2;
        timeLeft = 180;
      } else {
        alert("Match Ended!");
        timeLeft = 0;
      }
    }
  }
}

function drawPitch() {
  ctx.fillStyle = "#1e7f3b";
  ctx.fillRect(-camera.x, -camera.y, pitch.width, pitch.height);

  ctx.strokeStyle = "white";
  ctx.lineWidth = 5;

  // Center line
  ctx.beginPath();
  ctx.moveTo(pitch.width/2 - camera.x, -camera.y);
  ctx.lineTo(pitch.width/2 - camera.x, pitch.height - camera.y);
  ctx.stroke();

  // Center circle
  ctx.beginPath();
  ctx.arc(pitch.width/2 - camera.x, pitch.height/2 - camera.y, 120, 0, Math.PI * 2);
  ctx.stroke();
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  drawPitch();

  // BALL
  ctx.fillStyle = "white";
  ctx.beginPath();
  ctx.arc(ball.x - camera.x, ball.y - camera.y, ball.r, 0, Math.PI * 2);
  ctx.fill();

  // PLAYER
  ctx.fillStyle = "blue";
  ctx.beginPath();
  ctx.arc(player.x - camera.x, player.y - camera.y, player.r, 0, Math.PI * 2);
  ctx.fill();

  // UI
  document.getElementById("score").innerText =
    `Blue ${blueScore} - ${redScore} Red`;

  document.getElementById("half").innerText =
    half === 1 ? "1st Half" : "2nd Half";

  const min = Math.floor(timeLeft / 60);
  const sec = timeLeft % 60;
  document.getElementById("timer").innerText =
    `${String(min).padStart(2,"0")}:${String(sec).padStart(2,"0")}`;
}

function gameLoop() {
  update();
  draw();
  requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>

